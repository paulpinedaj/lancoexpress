<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LancoExpress - Comida Rápida & Bar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/8.4.5/swiper-bundle.min.css">
    <style>
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFD166;
            --dark: #2B2D42;
            --light: #F8F9FA;
            --gray: #ADB5BD;
            --text: #2B2D42;
            --success: #06D6A0;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --radius: 16px;
            
            /* Colores para modo bar */
            --bar-bg: #0A0A0A;
            --bar-primary: #BB86FC;
            --bar-secondary: #03DAC6;
            --bar-text: #FFFFFF;
            --bar-card: #1E1E1E;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--text);
            line-height: 1.6;
            transition: var(--transition);
            padding-bottom: 60px; /* Espacio para el contador promocional */
        }

        body.bar-mode {
            background-color: var(--bar-bg);
            color: var(--bar-text);
        }

        /* Header */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }

        body.bar-mode header {
            background-color: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
            transition: var(--transition);
        }

        body.bar-mode .logo {
            color: var(--bar-primary);
        }

        .logo span {
            color: var(--secondary);
            transition: var(--transition);
        }

        body.bar-mode .logo span {
            color: var(--bar-secondary);
        }

        .logo i {
            margin-right: 8px;
        }

        .nav-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .search-container {
            flex: 1;
            max-width: 500px;
            position: relative;
        }

        .search-container input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 1px solid var(--secondary);
            border-radius: 30px;
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
            background-color: white;
        }

        body.bar-mode .search-container input {
            background-color: #2a2a2a;
            border-color: var(--bar-secondary);
            color: var(--bar-text);
        }

        .search-container input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.2);
        }

        body.bar-mode .search-container input:focus {
            border-color: var(--bar-primary);
            box-shadow: 0 0 0 2px rgba(187, 134, 252, 0.2);
        }

        .search-container button {
            position: absolute;
            right: 19px;
            top: 45%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
        }

        .nav-icons {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .icon-btn {
            position: relative;
            background: none;
            border: none;
            font-size: 1.3rem;
            color: var(--dark);
            cursor: pointer;
            transition: var(--transition);
            padding: 8px;
            border-radius: 50%;
        }

        body.bar-mode .icon-btn {
            color: var(--bar-text);
        }

        .icon-btn:hover {
            color: var(--primary);
            background: rgba(255, 107, 107, 0.1);
        }

        body.bar-mode .icon-btn:hover {
            color: var(--bar-primary);
            background: rgba(187, 134, 252, 0.1);
        }

        .badge {
            position: absolute;
            top: 0;
            right: 0;
            background-color: var(--primary);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 600;
        }

        body.bar-mode .badge {
            background-color: var(--bar-primary);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: 25px;
        }

        /* Filtros mejorados */
        .filters {
            background-color: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: 90px;
            transition: var(--transition);
        }

        body.bar-mode .filters {
            background-color: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .filters h3 {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }

        body.bar-mode .filters h3 {
            border-bottom: 1px solid #333;
        }

        .filters h3 i {
            color: var(--secondary);
        }

        body.bar-mode .filters h3 i {
            color: var(--bar-secondary);
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-group h4 {
            margin-bottom: 12px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .filter-group h4 i {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .custom-checkbox, .custom-radio {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 10px;
            transition: var(--transition);
        }

        .custom-checkbox:hover, .custom-radio:hover {
            background-color: #f8f9fa;
        }

        body.bar-mode .custom-checkbox:hover, 
        body.bar-mode .custom-radio:hover {
            background-color: #2a2a2a;
        }

        .custom-checkbox input, .custom-radio input {
            display: none;
        }

        .checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .radiomark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .custom-checkbox input:checked + .checkmark,
        .custom-radio input:checked + .radiomark {
            background-color: var(--secondary);
            border-color: var(--secondary);
        }

        body.bar-mode .custom-checkbox input:checked + .checkmark,
        body.bar-mode .custom-radio input:checked + .radiomark {
            background-color: var(--bar-secondary);
            border-color: var(--bar-secondary);
        }

        .custom-checkbox input:checked + .checkmark:after,
        .custom-radio input:checked + .radiomark:after {
            content: "✓";
            color: white;
            font-size: 12px;
        }

        .price-range-container {
            padding: 0 10px;
        }

        .price-range {
            width: 100%;
            margin: 15px 0;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 5px;
            background: #e9ecef;
            outline: none;
        }

        body.bar-mode .price-range {
            background: #333;
        }

        .price-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        body.bar-mode .price-range::-webkit-slider-thumb {
            background: var(--bar-secondary);
        }

        .price-range::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        body.bar-mode .price-range::-moz-range-thumb {
            background: var(--bar-secondary);
        }

        .price-value {
            text-align: center;
            font-weight: 600;
            color: var(--secondary);
        }

        body.bar-mode .price-value {
            color: var(--bar-secondary);
        }

        /* Products Grid */
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .product-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        body.bar-mode .product-card {
            background-color: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        body.bar-mode .product-card:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .product-image-container {
            position: relative;
            height: 180px;
            overflow: hidden;
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .favorite-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            z-index: 2;
            backdrop-filter: blur(4px);
        }

        body.bar-mode .favorite-btn {
            background: rgba(30, 30, 30, 0.9);
        }

        .favorite-btn.active {
            color: var(--primary);
        }

        body.bar-mode .favorite-btn.active {
            color: var(--bar-primary);
        }

        .favorite-btn:hover {
            background: white;
            color: var(--primary);
        }

        body.bar-mode .favorite-btn:hover {
            background: var(--bar-card);
            color: var(--bar-primary);
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 1.1rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .product-description {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 12px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        body.bar-mode .product-description {
            color: #a0a0a0;
        }

        .product-price {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        body.bar-mode .product-price {
            color: var(--bar-primary);
        }

        .size-options {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .size-option {
            padding: 6px 12px;
            border: 1px solid #eee;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
            background: #f8f9fa;
        }

        body.bar-mode .size-option {
            border: 1px solid #333;
            background: #2a2a2a;
        }

        .size-option:hover, .size-option.active {
            background-color: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        body.bar-mode .size-option:hover, 
        body.bar-mode .size-option.active {
            background-color: var(--bar-secondary);
            border-color: var(--bar-secondary);
        }

        .add-to-cart {
            width: 100%;
            padding: 12px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        body.bar-mode .add-to-cart {
            background-color: var(--bar-secondary);
        }

        .add-to-cart:hover {
            background-color: #3dbeb5;
        }

        body.bar-mode .add-to-cart:hover {
            background-color: #00c9b8;
        }

        /* Product Detail Modal */
        .product-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            padding: 20px;
        }

        .product-detail-modal.open {
            opacity: 1;
            visibility: visible;
        }

        .product-detail-content {
            background-color: white;
            border-radius: var(--radius);
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        body.bar-mode .product-detail-content {
            background-color: var(--bar-card);
        }

        .close-detail {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.1);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            z-index: 10;
            transition: var(--transition);
            backdrop-filter: blur(4px);
        }

        .close-detail:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .product-detail-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }

        .product-detail-images {
            position: relative;
        }

        .swiper {
            width: 100%;
            height: 100%;
        }

        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        body.bar-mode .swiper-slide {
            background: #2a2a2a;
        }

        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-detail-info {
            padding: 30px;
        }

        .product-detail-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        body.bar-mode .product-detail-title {
            color: var(--bar-text);
        }

        .product-detail-price {
            font-size: 1.5rem;
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 20px;
        }

        body.bar-mode .product-detail-price {
            color: var(--bar-primary);
        }

        .product-detail-description {
            margin-bottom: 25px;
            line-height: 1.7;
            color: #5a5a5a;
        }

        body.bar-mode .product-detail-description {
            color: #a0a0a0;
        }

        .product-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        body.bar-mode .meta-item {
            background: #2a2a2a;
        }

        .meta-item i {
            font-size: 1.5rem;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        body.bar-mode .meta-item i {
            color: var(--bar-secondary);
        }

        .meta-item span {
            font-size: 0.9rem;
            color: var(--gray);
        }

        body.bar-mode .meta-item span {
            color: #a0a0a0;
        }

        .meta-item strong {
            font-weight: 600;
            margin-top: 5px;
            color: var(--dark);
        }

        body.bar-mode .meta-item strong {
            color: var(--bar-text);
        }

        .detail-size-options {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .detail-size-option {
            padding: 10px 15px;
            border: 2px solid #eee;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            flex: 1;
            min-width: 80px;
        }

        body.bar-mode .detail-size-option {
            border: 2px solid #333;
        }

        .detail-size-option:hover, .detail-size-option.active {
            border-color: var(--secondary);
            background-color: rgba(78, 205, 196, 0.1);
        }

        body.bar-mode .detail-size-option:hover, 
        body.bar-mode .detail-size-option.active {
            border-color: var(--bar-secondary);
            background-color: rgba(3, 218, 198, 0.1);
        }

        .detail-size-option .size {
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
        }

        .detail-size-option .price {
            color: var(--primary);
            font-weight: 600;
        }

        body.bar-mode .detail-size-option .price {
            color: var(--bar-primary);
        }

        .social-share {
            display: flex;
            gap: 10px;
            margin: 25px 0;
        }

        .share-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .share-fb {
            background-color: #3b5998;
        }

        .share-tw {
            background-color: #1da1f2;
        }

        .share-wa {
            background-color: #25d366;
        }

        .share-btn:hover {
            opacity: 0.9;
            transform: translateY(-3px);
        }

        .add-to-cart-detail {
            width: 100%;
            padding: 16px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        body.bar-mode .add-to-cart-detail {
            background-color: var(--bar-secondary);
        }

        .add-to-cart-detail:hover {
            background-color: #3dbeb5;
        }

        body.bar-mode .add-to-cart-detail:hover {
            background-color: #00c9b8;
        }

        /* Cart Modal */
        .cart-modal {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background-color: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            z-index: 1000;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        body.bar-mode .cart-modal {
            background-color: var(--bar-card);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
        }

        .cart-modal.open {
            right: 0;
        }

        .cart-header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
        }

        body.bar-mode .cart-header {
            background: var(--bar-card);
            border-bottom: 1px solid #333;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            padding: 5px;
            border-radius: 50%;
            transition: var(--transition);
        }

        body.bar-mode .close-cart {
            color: #a0a0a0;
        }

        .close-cart:hover {
            background: #f8f9fa;
            color: var(--dark);
        }

        body.bar-mode .close-cart:hover {
            background: #2a2a2a;
            color: var(--bar-text);
        }

        .cart-items {
            padding: 20px;
            flex: 1;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .empty-cart {
            text-align: center;
            padding: 40px 0;
            color: var(--gray);
        }

        body.bar-mode .empty-cart {
            color: #a0a0a0;
        }

        .empty-cart i {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
            color: #e9ecef;
        }

        body.bar-mode .empty-cart i {
            color: #333;
        }

        .cart-item {
            display: flex;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        body.bar-mode .cart-item {
            border-bottom: 1px solid #333;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 12px;
            flex-shrink: 0;
        }

        .cart-item-info {
            flex: 1;
            padding: 0 15px;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        body.bar-mode .cart-item-title {
            color: var(--bar-text);
        }

        .cart-item-price {
            color: var(--primary);
            margin-bottom: 5px;
            font-weight: 600;
        }

        body.bar-mode .cart-item-price {
            color: var(--bar-primary);
        }

        .cart-item-size {
            font-size: 0.8rem;
            color: var(--gray);
            margin-bottom: 5px;
        }

        body.bar-mode .cart-item-size {
            color: #a0a0a0;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: var(--light);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            transition: var(--transition);
        }

        body.bar-mode .quantity-btn {
            background-color: #2a2a2a;
            color: var(--bar-text);
        }

        .quantity-btn:hover {
            background-color: var(--secondary);
            color: white;
        }

        body.bar-mode .quantity-btn:hover {
            background-color: var(--bar-secondary);
        }

        .quantity-value {
            margin: 0 12px;
            font-weight: 600;
            min-width: 20px;
            text-align: center;
        }

        .cart-total {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 1.2rem;
            background: #f8f9fa;
            position: sticky;
            bottom: 0;
        }

        body.bar-mode .cart-total {
            border-top: 1px solid #333;
            background: #2a2a2a;
        }

        .checkout-btn {
            display: block;
            width: calc(100% - 40px);
            margin: 0 20px 20px;
            padding: 16px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        body.bar-mode .checkout-btn {
            background-color: var(--bar-primary);
        }

        .checkout-btn:hover {
            background-color: #ff5252;
        }

        body.bar-mode .checkout-btn:hover {
            background-color: #a371f7;
        }

        /* Checkout Modal */
        .checkout-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            padding: 20px;
        }

        .checkout-modal.open {
            opacity: 1;
            visibility: visible;
        }

        .checkout-content {
            background-color: white;
            border-radius: var(--radius);
            width: 100%;
            max-width: 500px;
            padding: 30px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        body.bar-mode .checkout-content {
            background-color: var(--bar-card);
        }

        .close-checkout {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            padding: 5px;
            border-radius: 50%;
            transition: var(--transition);
        }

        body.bar-mode .close-checkout {
            color: #a0a0a0;
        }

        .close-checkout:hover {
            background: #f8f9fa;
            color: var(--dark);
        }

        body.bar-mode .close-checkout:hover {
            background: #2a2a2a;
            color: var(--bar-text);
        }

        .checkout-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }

        .checkout-steps:before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: #eee;
            z-index: 1;
        }

        body.bar-mode .checkout-steps:before {
            background-color: #333;
        }

        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: white;
            border: 2px solid #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--gray);
            position: relative;
            z-index: 2;
        }

        body.bar-mode .step {
            background-color: var(--bar-card);
            border: 2px solid #333;
            color: #a0a0a0;
        }

        .step.active {
            border-color: var(--secondary);
            background-color: var(--secondary);
            color: white;
        }

        body.bar-mode .step.active {
            border-color: var(--bar-secondary);
            background-color: var(--bar-secondary);
        }

        .step.completed {
            border-color: var(--success);
            background-color: var(--success);
            color: white;
        }

        .checkout-form {
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        body.bar-mode .form-group label {
            color: var(--bar-text);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
        }

        body.bar-mode .form-control {
            background-color: #2a2a2a;
            border: 1px solid #333;
            color: var(--bar-text);
        }

        .form-control:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(78, 205, 196, 0.2);
        }

        body.bar-mode .form-control:focus {
            border-color: var(--bar-secondary);
            box-shadow: 0 0 0 3px rgba(3, 218, 198, 0.2);
        }

        .delivery-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
            margin-top: 15px;
        }

        .delivery-option {
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        body.bar-mode .delivery-option {
            border: 2px solid #333;
        }

        .delivery-option:hover, .delivery-option.selected {
            border-color: var(--secondary);
            background-color: rgba(78, 205, 196, 0.1);
        }

        body.bar-mode .delivery-option:hover, 
        body.bar-mode .delivery-option.selected {
            border-color: var(--bar-secondary);
            background-color: rgba(3, 218, 198, 0.1);
        }

        .delivery-option i {
            font-size: 1.5rem;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        body.bar-mode .delivery-option i {
            color: var(--bar-secondary);
        }

        .delivery-option .price {
            color: var(--primary);
            font-weight: 600;
            margin-top: 5px;
        }

        body.bar-mode .delivery-option .price {
            color: var(--bar-primary);
        }

        .address-field {
            display: none;
        }

        .address-field.visible {
            display: block;
        }

        .coupon-form {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .coupon-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
        }

        body.bar-mode .coupon-input {
            background-color: #2a2a2a;
            border: 1px solid #333;
            color: var(--bar-text);
        }

        .apply-coupon {
            padding: 12px 20px;
            background-color: var(--accent);
            color: var(--dark);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            white-space: nowrap;
        }

        body.bar-mode .apply-coupon {
            background-color: var(--bar-primary);
            color: var(--bar-text);
        }

        .apply-coupon:hover {
            background-color: #ffc44d;
        }

        body.bar-mode .apply-coupon:hover {
            background-color: #a371f7;
        }

        .checkout-summary {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        body.bar-mode .checkout-summary {
            background-color: #2a2a2a;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 1.2rem;
            padding-top: 10px;
            border-top: 1px solid #ddd;
        }

        body.bar-mode .summary-total {
            border-top: 1px solid #333;
        }

        .payment-success {
            text-align: center;
            padding: 30px 0;
        }

        .payment-success i {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 20px;
        }

        .payment-success h2 {
            margin-bottom: 15px;
            color: var(--success);
        }

        .continue-shopping {
            display: inline-block;
            margin-top: 20px;
            padding: 12px 25px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        body.bar-mode .continue-shopping {
            background-color: var(--bar-secondary);
        }

        .continue-shopping:hover {
            background-color: #3dbeb5;
        }

        body.bar-mode .continue-shopping:hover {
            background-color: #00c9b8;
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 50px 20px 30px;
            margin-top: 80px;
        }

        body.bar-mode footer {
            background-color: #0f0f0f;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-section h3 i {
            color: var(--secondary);
        }

        body.bar-mode .footer-section h3 i {
            color: var(--bar-secondary);
        }

        .footer-section p {
            margin-bottom: 15px;
            color: #ced6e0;
            line-height: 1.7;
        }

        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-icons a {
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
            transition: var(--transition);
            text-decoration: none;
        }

        .social-icons a:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }

        body.bar-mode .social-icons a:hover {
            background-color: var(--bar-primary);
        }

        .footer-bottom {
            max-width: 1200px;
            margin: 40px auto 0;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            color: #ced6e0;
            font-size: 0.9rem;
        }

        /* Tabs de navegación */
        .tabs-container {
            max-width: 1200px;
            margin: 30px auto 30px;
            padding: 0 20px;
        }

        .tabs {
            display: flex;
            gap: 5px;
            background-color: white;
            border-radius: 12px;
            padding: 5px;
            box-shadow: var(--shadow);
            overflow-x: auto;
            justify-content: space-between;
        }

        body.bar-mode .tabs {
            background-color: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .tab {
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
            font-weight: 600;
        }

        body.bar-mode .tab {
            color: var(--bar-text);
        }

        .tab.active {
            background-color: var(--secondary);
            color: white;
        }

        body.bar-mode .tab.active {
            background-color: var(--bar-secondary);
        }

        /* Sección de promociones */
        .promotions-section {
            margin-bottom: 30px;
        }

        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .section-title i {
            margin-right: 10px;
            color: var(--secondary);
        }

        body.bar-mode .section-title i {
            color: var(--bar-secondary);
        }

        .promo-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .promo-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        body.bar-mode .promo-card {
            background: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .promo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        body.bar-mode .promo-card:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .promo-header {
            padding: 15px 20px;
            background: var(--secondary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        body.bar-mode .promo-header {
            background: var(--bar-secondary);
        }

        .promo-day {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .promo-time {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .promo-body {
            padding: 20px;
            position: relative;
        }

        .promo-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .promo-description {
            color: var(--gray);
            margin-bottom: 15px;
        }

        body.bar-mode .promo-description {
            color: #a0a0a0;
        }

        .promo-products {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .promo-product {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        body.bar-mode .promo-product {
            background: #2a2a2a;
        }

        /* Indicador de horario */
        .store-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 12px 20px;
            border-radius: 30px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 900;
            transition: var(--transition);
        }

        body.bar-mode .store-status {
            background: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--success);
            animation: pulse 2s infinite;
        }

        .status-closed {
            background: var(--primary);
        }

        .status-text {
            font-weight: 600;
        }

        .countdown {
            font-size: 0.9rem;
            color: var(--gray);
        }

        body.bar-mode .countdown {
            color: #a0a0a0;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Robot delivery */
        .robot-delivery {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 50%;
            box-shadow: var(--shadow);
            z-index: 900;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            cursor: pointer;
            transition: var(--transition);
        }

        body.bar-mode .robot-delivery {
            background: var(--bar-card);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .robot-delivery:hover {
            transform: scale(1.1);
        }

        .robot-delivery i {
            font-size: 1.8rem;
            color: var(--secondary);
        }

        body.bar-mode .robot-delivery i {
            color: var(--bar-secondary);
        }

        .robot-tooltip {
            position: absolute;
            bottom: 100%;
            right: 0;
            background: var(--dark);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
            width: 200px;
            margin-bottom: 10px;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .robot-delivery:hover .robot-tooltip {
            opacity: 1;
            visibility: visible;
        }

        /* Filtros móviles */
        .mobile-filters-toggle {
            display: none;
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            margin-bottom: 20px;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        body.bar-mode .mobile-filters-toggle {
            background-color: var(--bar-secondary);
        }

        .mobile-filters-toggle:hover {
            background-color: #3dbeb5;
        }

        body.bar-mode .mobile-filters-toggle:hover {
            background-color: #00c9b8;
        }

        /* Contador promocional */
        .promo-counter {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px;
            text-align: center;
            z-index: 800;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }

        body.bar-mode .promo-counter {
            background: linear-gradient(90deg, var(--bar-primary), var(--bar-secondary));
        }

        .promo-counter-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .promo-counter-text {
            font-weight: 600;
            margin-right: 10px;
        }

        .counter-timer {
            display: flex;
            gap: 5px;
            font-weight: 700;
        }

        .counter-unit {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 5px;
            min-width: 40px;
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
            }

            .filters {
                position: fixed;
                top: 0;
                left: -100%;
                width: 80%;
                max-width: 350px;
                height: 100vh;
                z-index: 1100;
                overflow-y: auto;
                transition: left 0.3s ease;
                padding-top: 60px;
            }

            .filters.active {
                left: 0;
            }

            .mobile-filters-toggle {
                display: flex;
            }

            .product-detail-body {
                grid-template-columns: 1fr;
            }
            
            .promo-cards {
                grid-template-columns: 1fr;
            }

            .products {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-container {
                padding: 12px 15px;
                flex-wrap: wrap;
            }

            .logo {
                font-size: 1.5rem;
            }

            .nav-container {
                order: 3;
                width: 100%;
                margin-top: 15px;
            }

            .search-container {
                max-width: 100%;
            }

            .products {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .product-meta {
                grid-template-columns: 1fr;
            }

            .cart-modal {
                max-width: 100%;
            }

            .delivery-options {
                grid-template-columns: 1fr;
            }
            
            .store-status {
                bottom: 70px;
                left: 10px;
                right: 10px;
                justify-content: center;
            }

            .promo-counter-content {
                flex-direction: column;
                gap: 5px;
            }
        }

        @media (max-width: 480px) {
            .products {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .product-info {
            padding: 10px;
            }

            .product-image-container {
            height: 120px;
            }

            .product-title {
            margin-bottom: 5px;
            }

            .product-description {
            margin-bottom: 10px;
            }

            .mobile-filters-toggle {
            margin-bottom: 10px;
            }


            .product-meta {
            grid-template-columns: repeat(2, 1fr);
            }


            .meta-item {
            text-align: center;
            }


            .detail-size-options {
                flex-direction: column;
            }

            .nav-icons {
                gap: 10px;
            }

            .icon-btn {
                font-size: 1.1rem;
                padding: 6px;
            }

            .product-detail-info {
                padding: 20px;
            }

            .product-detail-title {
                font-size: 1.5rem;
            }

            .checkout-content {
                padding: 20px;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1;
                text-align: center;
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            .promo-counter {
                padding: 10px;
            }

            .counter-timer {
                gap: 3px;
            }

            .counter-unit {
                min-width: 30px;
                padding: 3px 5px;
                font-size: 0.9rem;
            }
        }

        /* Overlay para filtros móviles */
        .filters-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1090;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .filters-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Botón cerrar filtros móviles */
        .close-filters {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--gray);
            cursor: pointer;
            z-index: 10;
        }
    </style>
</head>
<body>
    <!-- Header con buscador y carrito -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-utensils"></i>Lanco<span>Express</span>
            </div>
            <div class="nav-container">
                <div class="search-container">
                    <input type="text" placeholder="Buscar productos..." id="searchInput">
                    <button><i class="fas fa-search"></i></button>
                </div>

                <div class="nav-icons">
                    <button class="icon-btn" id="userBtn">
                        <i class="fas fa-user"></i>
                    </button>

                    <button class="icon-btn" id="favoritesBtn">
                        <i class="fas fa-heart"></i>
                        <span class="badge" id="favoritesCount">0</span>
                    </button>
                    <button class="icon-btn" id="cartIcon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="badge" id="cartCount">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Tabs de navegación -->
    <div class="tabs-container">
        <div class="tabs">
            <div class="tab active" data-tab="products">Comida</div>
            <div class="tab" data-tab="bar">Bar & Tragos</div>
            <div class="tab" data-tab="promotions">Promociones</div>
            <div class="tab" data-tab="september">18 Septiembre</div>
            <div class="tab" data-tab="orders">Mis Pedidos</div>
            <div class="tab" data-tab="profile">Mi Cuenta</div>
        </div>
    </div>

    <!-- Contenido principal -->
    <div class="container">
        <!-- Botón para mostrar filtros en móvil -->
        <button class="mobile-filters-toggle" id="mobileFiltersToggle">
            <i class="fas fa-filter"></i> Filtros
        </button>

        <!-- Overlay para filtros móviles -->
        <div class="filters-overlay" id="filtersOverlay"></div>

        <!-- Filtros -->
        <aside class="filters" id="filtersSidebar">
            <button class="close-filters" id="closeFilters">&times;</button>
            <h3><i class="fas fa-filter"></i> Filtros</h3>
            
            <div class="filter-group">
                <h4><i class="fas fa-tag"></i> Categorías</h4>
                <div class="filter-options" id="categoryFilters">
                    <!-- Las categorías se cargarán dinámicamente según la sección -->
                </div>
            </div>
            
            <div class="filter-group">
                <h4><i class="fas fa-dollar-sign"></i> Precio</h4>
                <div class="price-range-container">
                    <input type="range" min="0" max="15000" value="15000" class="price-range" id="priceRange">
                    <div class="price-value">Hasta $<span id="priceValue">15000</span></div>
                </div>
            </div>
            
            <div class="filter-group">
                <h4><i class="fas fa-sort"></i> Ordenar por</h4>
                <div class="filter-options">
                    <label class="custom-radio">
                        <input type="radio" name="sort" value="name" checked>
                        <span class="radiomark"></span>
                        Nombre
                    </label>
                    <label class="custom-radio">
                        <input type="radio" name="sort" value="price-asc">
                        <span class="radiomark"></span>
                        Precio: menor a mayor
                    </label>
                    <label class="custom-radio">
                        <input type="radio" name="sort" value="price-desc">
                        <span class="radiomark"></span>
                        Precio: mayor a menor
                    </label>
                </div>
            </div>

            <button style="display: none;" class="apply-filters-btn" id="applyFilters">Aplicar Filtros</button>
        </aside>

        <!-- Sección de promociones (oculta inicialmente) -->
        <main class="promotions-section" id="promotionsSection" style="display: none;">
            <h2 class="section-title"><i class="fas fa-percentage"></i> Promociones de la Semana</h2>
            <div class="promo-cards" id="promoCards">
                <!-- Las promociones se cargarán dinámicamente -->
            </div>
        </main>

        <!-- Sección 18 de septiembre (oculta inicialmente) -->
        <main class="promotions-section" id="septemberSection" style="display: none;">
            <h2 class="section-title"><i class="fas fa-flag"></i> Especial Fiestas Patrias</h2>
            <div class="promo-cards" id="septemberPromos">
                <!-- Las promociones de septiembre se cargarán dinámicamente -->
            </div>
        </main>

        <!-- Productos -->
        <main class="products" id="productsContainer">
            <!-- Los productos se cargarán dinámicamente con JavaScript -->
        </main>
    </div>

    <!-- Modal de detalle de producto -->
    <div class="product-detail-modal" id="productDetailModal">
        <div class="product-detail-content">
            <button class="close-detail" id="closeDetail">&times;</button>
            <div class="product-detail-body">
                <div class="product-detail-images">
                    <div class="swiper mySwiper">
                        <div class="swiper-wrapper" id="detailImages">
                            <!-- Las imágenes se cargarán dinámicamente -->
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
                <div class="product-detail-info">
                    <h2 class="product-detail-title" id="detailTitle"></h2>
                    <div class="product-detail-price" id="detailPrice"></div>
                    <p class="product-detail-description" id="detailDescription"></p>
                    
                    <div class="product-meta">
                        <div class="meta-item">
                            <i class="fas fa-fire"></i>
                            <span>Calorías</span>
                            <strong id="detailCalories"></strong>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-clock"></i>
                            <span>Tiempo preparación</span>
                            <strong id="detailTime"></strong>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-star"></i>
                            <span>Valoración</span>
                            <strong id="detailRating"></strong>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-weight"></i>
                            <span>Peso</span>
                            <strong id="detailWeight"></strong>
                        </div>
                    </div>
                    
                    <h4>Selecciona un tamaño:</h4>
                    <div class="detail-size-options" id="detailSizes">
                        <!-- Las opciones de tamaño se cargarán dinámicamente -->
                    </div>
                    
                    <div class="social-share">
                        <button class="share-btn share-fb">
                            <i class="fab fa-facebook-f"></i>
                        </button>
                        <button class="share-btn share-tw">
                            <i class="fab fa-twitter"></i>
                        </button>
                        <button class="share-btn share-wa">
                            <i class="fab fa-whatsapp"></i>
                        </button>
                    </div>
                    
                    <button class="add-to-cart-detail" id="addToCartDetail">
                        <i class="fas fa-shopping-cart"></i> Agregar al Carrito
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Carrito de compras -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h2>Tu Carrito</h2>
            <button class="close-cart" id="closeCart">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Los items del carrito se cargarán dinámicamente -->
        </div>
        <div class="cart-total">
            <span>Total:</span>
            <span id="cartTotal">$0</span>
        </div>
        <button class="checkout-btn" id="checkoutBtn">Finalizar Compra</button>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-content">
            <button class="close-checkout" id="closeCheckout">&times;</button>
            <div class="checkout-steps">
                <div class="step active" id="step1">1</div>
                <div class="step" id="step2">2</div>
                <div class="step" id="step3">3</div>
            </div>
            
            <div class="checkout-form" id="checkoutStep1">
                <h3>Método de entrega</h3>
                <div class="delivery-options">
                    <div class="delivery-option selected" data-type="pickup" data-price="0">
                        <i class="fas fa-store"></i>
                        <div>Retiro en local</div>
                        <div class="price">Gratis</div>
                    </div>
                    <div class="delivery-option" data-type="delivery" data-price="1500">
                        <i class="fas fa-truck"></i>
                        <div>Envío a domicilio</div>
                        <div class="price">$1.500</div>
                    </div>
                    <div class="delivery-option" data-type="robot" data-price="2000">
                        <i class="fas fa-robot"></i>
                        <div>Envío con Robot</div>
                        <div class="price">$2.000</div>
                    </div>
                </div>
                
                <div class="form-group address-field" id="addressField">
                    <label for="deliveryAddress">Dirección de envío</label>
                    <input type="text" id="deliveryAddress" class="form-control" placeholder="Ingresa tu dirección">
                </div>
                
                <button class="checkout-btn" id="toStep2">Continuar</button>
            </div>
            
            <div class="checkout-form" id="checkoutStep2" style="display: none;">
                <h3>Método de pago</h3>
                
                <div class="form-group">
                    <label for="cardNumber">Número de tarjeta</label>
                    <input type="text" id="cardNumber" class="form-control" placeholder="1234 5678 9012 3456">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="cardExpiry">Fecha de expiración</label>
                        <input type="text" id="cardExpiry" class="form-control" placeholder="MM/AA">
                    </div>
                    <div class="form-group">
                        <label for="cardCVC">CVC</label>
                        <input type="text" id="cardCVC" class="form-control" placeholder="123">
                    </div>
                </div>
                
                <div class="coupon-form">
                    <input type="text" class="coupon-input" placeholder="Código de descuento">
                    <button class="apply-coupon">Aplicar</button>
                </div>
                
                <div class="checkout-summary">
                    <div class="summary-item">
                        <span>Subtotal</span>
                        <span id="summarySubtotal">$0</span>
                    </div>
                    <div class="summary-item">
                        <span>Envío</span>
                        <span id="summaryShipping">$0</span>
                    </div>
                    <div class="summary-item">
                        <span>Descuento</span>
                        <span id="summaryDiscount">-$0</span>
                    </div>
                    <div class="summary-total">
                        <span>Total</span>
                        <span id="summaryTotal">$0</span>
                    </div>
                </div>
                
                <button class="checkout-btn" id="toStep3">Pagar ahora</button>
            </div>
            
            <div class="checkout-form" id="checkoutStep3" style="display: none;">
                <div class="payment-success">
                    <i class="fas fa-check-circle"></i>
                    <h2>¡Pedido Recibido!</h2>
                    <p>Tu pedido ha sido procesado correctamente.</p>
                    <p>Número de orden: <strong>#ORD-2023-78945</strong></p>
                    <p>Te llegará un correo con los detalles de tu compra.</p>
                    <p class="thanks-message">¡Gracias por tu compra!</p>
                    <button class="continue-shopping" id="continueShopping">Continuar comprando</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notificación -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span>Producto agregado al carrito!</span>
    </div>

    <!-- Indicador de horario -->
    <div class="store-status">
        <div class="status-indicator" id="statusIndicator"></div>
        <div class="status-text" id="statusText">Abierto</div>
        <div class="countdown" id="countdown"></div>
    </div>

    <!-- Robot delivery -->
    <div class="robot-delivery">
        <i class="fas fa-robot"></i>
        <div class="robot-tooltip">
            <strong>¡Delivery con Robot!</strong>
            <p>Tu pedido será entregado por nuestro robot autónomo. Ecológico y futurista.</p>
        </div>
    </div>

    <!-- Contador promocional -->
    <div class="promo-counter">
        <div class="promo-counter-content">
            <span class="promo-counter-text" id="promoCounterText">¡Oferta del día! Termina en:</span>
            <div class="counter-timer">
                <span class="counter-unit" id="hours">00</span>:
                <span class="counter-unit" id="minutes">00</span>:
                <span class="counter-unit" id="seconds">00</span>
            </div>
        </div>
    </div>

    <!-- Footer con redes sociales -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3><i class="fas fa-utensils"></i> LancoExpress</h3>
                <p>La mejor comida rápida directamente a tu puerta. Calidad y sabor en cada bocado.</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-link"></i> Enlaces Rápidos</h3>
                <p>Menú</p>
                <p>Promociones</p>
                <p>Sobre Nosotros</p>
                <p>Contacto</p>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-clock"></i> Horario de Atención</h3>
                <p>Lunes a Viernes: 10:00 - 22:00</p>
                <p>Sábados y Domingos: 11:00 - 23:00</p>
                <p>Feriados: 12:00 - 20:00</p>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-map-marker-alt"></i> Contacto</h3>
                <p>Av. Principal 1234, Lanco</p>
                <p><i class="fas fa-phone"></i> +56 9 1234 5678</p>
                <p><i class="fas fa-envelope"></i> info@lancoexpress.cl</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>Skeleton.cl - &copy; LancoExpress 2025</p>
        </div>
    </footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/8.4.5/swiper-bundle.min.js"></script>
<script>
    // Base de datos de productos
    const products = [
        {
            id: 1,
            name: "Pizza Margarita",
            description: "Salsa de tomate, mozzarella y albahaca fresca. Un clásico italiano con ingredientes de la más alta calidad.",
            price: 6990,
            category: "pizza",
            images: [
                "https://recetinas.com/wp-content/uploads/2022/06/pizza-suprema.jpg",
            ],
            sizes: [
                { name: "S", price: 5990, calories: 800 },
                { name: "M", price: 6990, calories: 1200 },
                { name: "L", price: 8990, calories: 1800 }
            ],
            preparationTime: "20-25 min",
            rating: "4.8/5",
            weight: "450-950g"
        },
        {
            id: 2,
            name: "Pizza Pepperoni",
            description: "Salsa de tomate, mozzarella y pepperoni. El favorito de todos con un toque picante perfecto.",
            price: 7990,
            category: "pizza",
            images: [
                "https://www.infobae.com/resizer/v2/KV3JSOOE7FGRHCKMPXXR4ONZ64.jpg?auth=b2d76a3478775e8cce6c9662246e1453ccc74c4b06a70787eecc4b12b6d8d6e5&smart=true&width=1200&height=900&quality=85",
            ],
            sizes: [
                { name: "S", price: 6990, calories: 850 },
                { name: "M", price: 7990, calories: 1300 },
                { name: "L", price: 9990, calories: 1950 }
            ],
            preparationTime: "20-25 min",
            rating: "4.7/5",
            weight: "480-1000g"
        },
        {
            id: 3,
            name: "Sandwich Club",
            description: "Pollo, tocino, lechuga, tomate y mayonesa. Un sandwich clásico lleno de sabor y texturas.",
            price: 4990,
            category: "sandwich",
            images: [
                "https://d36fw6y2wq3bat.cloudfront.net/recipes/sandwich-de-pavo-con-huevo-frito/900/sandwich-de-pavo-con-huevo-frito_version_1653047838.jpg",
            ],
            calories: 650,
            preparationTime: "10-15 min",
            rating: "4.5/5",
            weight: "320g"
        },
        {
            id: 4,
            name: "Completo Italiano",
            description: "Salchicha, palta, tomate y mayonesa. El clásico completo chileno con un toque italiano.",
            price: 2990,
            category: "completo",
            images: [
                "https://media-front.elmostrador.cl/2022/05/Enex_upa-completo-700x428.png",
            ],
            calories: 520,
            preparationTime: "8-12 min",
            rating: "4.6/5",
            weight: "280g"
        },
        {
            id: 5,
            name: "Tabla Mixta",
            description: "Embutidos, quesos, frutos secos y pan. Perfecta para compartir en cualquier ocasión.",
            price: 12990,
            category: "tabla",
            images: [
                "https://images.unsplash.com/photo-1544025162-d76694265947?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                "https://images.unsplash.com/photo-1551504734-323d6677c92e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            ],
            calories: 1200,
            preparationTime: "15-20 min",
            rating: "4.9/5",
            weight: "800g"
        },
        {
            id: 6,
            name: "Coca-Cola",
            description: "Bebida gaseosa Lata 350. Refrescante y perfecta para acompañar cualquier comida.",
            price: 1500,
            category: "bebida",
            images: [
                "https://tofuu.getjusto.com/orioneat-local/resized2/khyoMo2z3c7pk2zB2-300-x.webp",
            ],
            calories: 200,
            preparationTime: "2 min",
            rating: "4.3/5",
            weight: "500ml"
        },
        {
            id: 7,
            name: "Pizza Hawaiana",
            description: "Salsa de tomate, mozzarella, jamón y piña. La combinación perfecta de dulce y salado.",
            price: 8490,
            category: "pizza",
            images: [
                "https://imag.bonviveur.com/presentacion-principal-de-la-pizza-hawaiana.webp",
            ],
            sizes: [
                { name: "S", price: 7490, calories: 900 },
                { name: "M", price: 8490, calories: 1400 },
                { name: "L", price: 10490, calories: 2100 }
            ],
            preparationTime: "20-25 min",
            rating: "4.6/5",
            weight: "470-980g"
        },
        {
            id: 8,
            name: "Sandwich Veggie",
            description: "Verduras asadas, queso y pesto. Una opción vegetariana llena de sabor y color.",
            price: 4490,
            category: "sandwich",
            images: [
                "https://www.layersofhappiness.com/wp-content/uploads/2014/06/My-favorite-veggie-Sandwich-678x1024.jpg",
            ],
            calories: 480,
            preparationTime: "10-15 min",
            rating: "4.4/5",
            weight: "300g"
        },
        // Productos de bar
        {
            id: 9,
            name: "Cerveza Artesanal",
            description: "Cerveza rubia artesanal con notas cítricas y amargor balanceado. Elaborada localmente.",
            price: 3500,
            category: "cerveza",
            images: [
                "https://cdn.forbes.com.mx/2018/08/Cerveza-artesanal-640x360.jpg",
            ],
            sizes: [
                { name: "330ml", price: 3500, calories: 150 },
                { name: "500ml", price: 5000, calories: 250 },
                { name: "1L", price: 8500, calories: 500 }
            ],
            preparationTime: "2 min",
            rating: "4.7/5",
            weight: "330-1000ml"
        },
        {
            id: 10,
            name: "Vino Tinto Reserva",
            description: "Vino tinto reserva con cuerpo, notas de frutos rojos y taninos suaves. Perfecto para carnes.",
            price: 8990,
            category: "vino",
            images: [
                "https://www.observador.cl/wp-content/uploads/2019/07/vino-2.jpg",
            ],
            calories: 120,
            preparationTime: "2 min",
            rating: "4.8/5",
            weight: "750ml"
        },
        {
            id: 11,
            name: "Margarita Clásica",
            description: "Tequila, triple sec and jugo de limón fresco. Servida en vaso escarchado con sal y lima.",
            price: 6500,
            category: "tequila",
            images: [
                "https://images.unsplash.com/photo-1470337458703-46ad1756a187?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            ],
            calories: 200,
            preparationTime: "5 min",
            rating: "4.9/5",
            weight: "250ml"
        },
        {
            id: 12,
            name: "Cuba Libre",
            description: "Ron, refresco de cola y un toque de lima. Un clásico refrescante para cualquier ocasión.",
            price: 4500,
            category: "ron",
            images: [
                "https://spirits-navigator.com/wp-content/uploads/2020/02/88326_w1024h768c1cx243cy194cxt0cyt0cxb599cyb398.jpg",
            ],
            calories: 180,
            preparationTime: "3 min",
            rating: "4.6/5",
            weight: "300ml"
        },
        {
            id: 13,
            name: "Vodka con Energética",
            description: "Vodka premium mezclado con bebida energética. Ideal para mantener la energía toda la noche.",
            price: 5500,
            category: "vodka",
            images: [
                "https://images.unsplash.com/photo-1536935338788-846bb9981813?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
            ],
            calories: 220,
            preparationTime: "3 min",
            rating: "4.5/5",
            weight: "350ml"
        },
        {
            id: 14,
            name: "Energética Monster",
            description: "Bebida energética para recuperar fuerzas. Sabor original en lata.",
            price: 2000,
            category: "energetica",
            images: [
                "https://foodcom.pl/wp-content/uploads/2023/08/Monster_Energy_green.jpg",
            ],
            calories: 110,
            preparationTime: "1 min",
            rating: "4.3/5",
            weight: "500ml"
        },
        // Tacos
        {
            id: 15,
            name: "Tacos al Pastor",
            description: "Tacos de cerdo marinado con piña, cebolla y cilantro. Salsa picante al gusto.",
            price: 5990,
            category: "tacos",
            images: [
                "https://content-cocina.lecturas.com/medio/2024/09/24/tacos-mexicanos-istock-1146906219_81e9dead_iStock_240924110357_1200x1200.jpg",
            ],
            sizes: [
                { name: "3 U", price: 5990, calories: 450 },
                { name: "5 U", price: 8990, calories: 750 },
                { name: "8 U", price: 12990, calories: 1200 }
            ],
            preparationTime: "15-20 min",
            rating: "4.8/5",
            weight: "300-800g"
        },
        // Hamburguesas
        {
            id: 16,
            name: "Hamburguesa Clásica",
            description: "Carne de res, queso cheddar, lechuga, tomate y salsa especial. Pan brioche tostado.",
            price: 6990,
            category: "hamburguesa",
            images: [
                "https://store.vinals1906.com/wp-content/uploads/Burguer_perfectserve-1.jpg",
            ],
            calories: 750,
            preparationTime: "12-15 min",
            rating: "4.7/5",
            weight: "350g"
        },
        // Papas fritas
        {
            id: 17,
            name: "Papas Fritas ",
            description: "Papas fritas crujientes",
            price: 3990,
            category: "papas",
            images: [
                "https://www.infobae.com/new-resizer/A1Gj2XFeHTTxw4eMj1lsgygMZPk=/arc-anglerfish-arc2-prod-infobae/public/I46WQXM4RVDTZNRSIGKISSSSDM.jpg",
            ],
            sizes: [
                { name: "S", price: 2990, calories: 400 },
                { name: "M", price: 3990, calories: 600 },
                { name: "XL", price: 5490, calories: 900 }
            ],
            preparationTime: "10-12 min",
            rating: "4.6/5",
            weight: "250-500g"
        }
    ];

    // Promociones por día
    const promotions = [
        {
            day: "Lunes",
            title: "2x1 en Pizzas",
            description: "Todos los lunes disfruta de nuestras pizzas con la promoción 2x1. Válido hasta las 22:00 hrs.",
            time: "12:00 - 22:00",
            products: ["Pizza Margarita", "Pizza Pepperoni", "Pizza Hawaiana"],
            category: "pizza"
        },
        {
            day: "Martes",
            title: "Tacos a Mitad de Precio",
            description: "Los martes son de tacos. Disfruta todos nuestros tacos a mitad de precio.",
            time: "Todo el día",
            products: ["Tacos al Pastor", "Tacos de Carnitas", "Tacos Veganos"],
            category: "tacos"
        },
        {
            day: "Miércoles",
            title: "Hamburguesa + Papas",
            description: "Miércoles de combo: Hamburguesa + Papas Fritas + Bebida por solo $7.990.",
            time: "14:00 - 22:00",
            products: ["Hamburguesa Clásica", "Papas Fritas Supreme", "Bebida"],
            category: "hamburguesa"
        },
        {
            day: "Jueves",
            title: "Jueves de Cerveza",
            description: "Todas las cervezas artesanales a $2.500. Válido hasta las 00:00 hrs.",
            time: "18:00 - 00:00",
            products: ["Cerveza Artesanal Rubia", "Cerveza Artesanal IPA", "Cerveza Artesanal Stout"],
            category: "cerveza"
        },
        {
            day: "Viernes",
            title: "Happy Hour",
            description: "2x1 en todos los tragos durante nuestro happy hour. Perfecto para empezar el fin de semana.",
            time: "17:00 - 20:00",
            products: ["Margarita Clásica", "Cuba Libre", "Vodka con Energética"],
            category: "bar"
        },
        {
            day: "Sábado",
            title: "Combo Familiar",
            description: "Sábados de combo familiar: 2 pizzas grandes + 2 bebidas por $19.990.",
            time: "12:00 - 22:00",
            products: ["Pizza Familiar", "Bebida 1.5L"],
            category: "pizza"
        },
        {
            day: "Domingo",
            title: "Domingo de Postres",
            description: "Todos los domingos recibe un postre gratis con tu compra superior a $15.000.",
            time: "Todo el día",
            products: ["Brownie", "Cheesecake", "Helado"],
            category: "postres"
        }
    ];

    // Promociones especiales de septiembre
    const septemberPromotions = [
        {
            title: "Empanadas de Fiestas Patrias",
            description: "Empanadas tradicionales de horno con carne, cebolla, huevo y aceitunas. Sabores auténticos chilenos.",
            price: 1290,
            time: "Todo septiembre",
            products: ["Empanada de Pino", "Empanada de Queso", "Empanada de Mariscos"],
            image: "https://images.unsplash.com/photo-1612892483236-52d32a0e0ac1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
        },
        {
            title: "Terremoto Chileno",
            description: "El clásico trago chileno: vino pipeño con fernet y helado de piña. ¡Una explosión de sabor!",
            price: 3500,
            time: "Todo septiembre",
            products: ["Terremoto Tradicional", "Terremoto con Frambuesa", "Mini Terremoto"],
            image: "https://images.unsplash.com/photo-1470337458703-46ad1756a187?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
        },
        {
            title: "Completos Patrios",
            description: "Completos con nuestros sabores chilenos: palta, chucrut, tomate y salsa americana.",
            price: 1990,
            time: "Todo septiembre",
            products: ["Completo Italiano", "Completo Alemán", "Completo Dinámico"],
            image: "https://media-front.elmostrador.cl/2022/05/Enex_upa-completo-700x428.png"
        },
        {
            title: "Choripán Criollo",
            description: "Choripán con pebre chileno y chancho en piedra. El sabor auténtico de nuestras fondas.",
            price: 2490,
            time: "Todo septiembre",
            products: ["Choripán Tradicional", "Choripán con Longaniza", "Choripán Vegano"],
            image: "https://images.unsplash.com/photo-1600891964092-4316c288032e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
        }
    ];

    // Variables globales
    let cart = [];
    let favorites = [];
    let filteredProducts = [...products];
    let currentProduct = null;
    let deliveryOption = "pickup";
    let deliveryPrice = 0;
    let discount = 0;
    let swiper = null;
    let currentTab = "products";
    let storeStatusInterval = null;
    let promoCounterInterval = null;

    // Elementos del DOM
    const productsContainer = document.getElementById('productsContainer');
    const cartIcon = document.getElementById('cartIcon');
    const cartModal = document.getElementById('cartModal');
    const closeCart = document.getElementById('closeCart');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const notification = document.getElementById('notification');
    const searchInput = document.getElementById('searchInput');
    const priceRange = document.getElementById('priceRange');
    const priceValue = document.getElementById('priceValue');
    const productDetailModal = document.getElementById('productDetailModal');
    const closeDetail = document.getElementById('closeDetail');
    const detailImages = document.getElementById('detailImages');
    const detailTitle = document.getElementById('detailTitle');
    const detailPrice = document.getElementById('detailPrice');
    const detailDescription = document.getElementById('detailDescription');
    const detailCalories = document.getElementById('detailCalories');
    const detailTime = document.getElementById('detailTime');
    const detailRating = document.getElementById('detailRating');
    const detailWeight = document.getElementById('detailWeight');
    const detailSizes = document.getElementById('detailSizes');
    const addToCartDetail = document.getElementById('addToCartDetail');
    const checkoutModal = document.getElementById('checkoutModal');
    const closeCheckout = document.getElementById('closeCheckout');
    const toStep2 = document.getElementById('toStep2');
    const toStep3 = document.getElementById('toStep3');
    const continueShopping = document.getElementById('continueShopping');
    const favoritesBtn = document.getElementById('favoritesBtn');
    const favoritesCount = document.getElementById('favoritesCount');
    const deliveryOptions = document.querySelectorAll('.delivery-option');
    const summarySubtotal = document.getElementById('summarySubtotal');
    const summaryShipping = document.getElementById('summaryShipping');
    const summaryDiscount = document.getElementById('summaryDiscount');
    const summaryTotal = document.getElementById('summaryTotal');
    const tabs = document.querySelectorAll('.tab');
    const addressField = document.getElementById('addressField');
    const userBtn = document.getElementById('userBtn');
    const categoryFilters = document.getElementById('categoryFilters');
    const promotionsSection = document.getElementById('promotionsSection');
    const promoCards = document.getElementById('promoCards');
    const septemberSection = document.getElementById('septemberSection');
    const septemberPromos = document.getElementById('septemberPromos');
    const statusIndicator = document.getElementById('statusIndicator');
    const statusText = document.getElementById('statusText');
    const countdown = document.getElementById('countdown');
    const mobileFiltersToggle = document.getElementById('mobileFiltersToggle');
    const filtersSidebar = document.getElementById('filtersSidebar');
    const filtersOverlay = document.getElementById('filtersOverlay');
    const closeFilters = document.getElementById('closeFilters');
    const applyFilters = document.getElementById('applyFilters');
    const promoCounterText = document.getElementById('promoCounterText');
    const hoursElement = document.getElementById('hours');
    const minutesElement = document.getElementById('minutes');
    const secondsElement = document.getElementById('seconds');
    const body = document.body;

    // Función para formatear precios en formato chileno
    function formatPrice(price) {
        return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }

    // Inicializar la tienda
    function initStore() {
        setupEventListeners();
        loadUserData();
        updateStoreStatus();
        displayPromotions();
        displaySeptemberPromotions();
        startPromoCounter();
        
        // Filtrar productos al iniciar (en lugar de mostrar todos)
        updateCategoryFilters();

        // Iniciar el intervalo para actualizar el estado de la tienda
        storeStatusInterval = setInterval(updateStoreStatus, 60000); // Actualizar cada minuto
    }

    // Configurar event listeners
    function setupEventListeners() {
        cartIcon.addEventListener('click', () => cartModal.classList.add('open'));
        closeCart.addEventListener('click', () => cartModal.classList.remove('open'));
        checkoutBtn.addEventListener('click', openCheckout);
        
        // Filtros
        searchInput.addEventListener('input', filterProducts);
        priceRange.addEventListener('input', () => {
            priceValue.textContent = formatPrice(priceRange.value);
            filterProducts();
        });
        
        document.querySelectorAll('input[name="sort"]').forEach(radio => {
            radio.addEventListener('change', filterProducts);
        });
        
        // Modal de detalle
        closeDetail.addEventListener('click', () => productDetailModal.classList.remove('open'));
        
        // Checkout
        closeCheckout.addEventListener('click', () => checkoutModal.classList.remove('open'));
        toStep2.addEventListener('click', () => changeCheckoutStep(2));
        toStep3.addEventListener('click', processPayment);
        continueShopping.addEventListener('click', () => {
            checkoutModal.classList.remove('open');
            cart = [];
            updateCart();
            saveUserData();
        });
        
        // Opciones de entrega
        deliveryOptions.forEach(option => {
            option.addEventListener('click', () => {
                deliveryOptions.forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                deliveryOption = option.dataset.type;
                deliveryPrice = parseInt(option.dataset.price);
                
                // Mostrar u ocultar campo de dirección
                if (deliveryOption === 'delivery' || deliveryOption === 'robot') {
                    addressField.classList.add('visible');
                } else {
                    addressField.classList.remove('visible');
                }
                
                updateCheckoutSummary();
            });
        });
        
        // Favoritos
        favoritesBtn.addEventListener('click', showFavorites);
        
        // Tabs de navegación
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                switchTab(tab.dataset.tab);
            });
        });

        // Botón de usuario
        userBtn.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            document.querySelector('[data-tab="profile"]').classList.add('active');
            switchTab('profile');
        });

        // Filtros móviles
        mobileFiltersToggle.addEventListener('click', () => {
            filtersSidebar.classList.add('active');
            filtersOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        closeFilters.addEventListener('click', closeMobileFilters);
        filtersOverlay.addEventListener('click', closeMobileFilters);
        applyFilters.addEventListener('click', closeMobileFilters);
    }

    // Cerrar filtros móviles
    function closeMobileFilters() {
        filtersSidebar.classList.remove('active');
        filtersOverlay.classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // Iniciar contador promocional
    function startPromoCounter() {
        // Obtener la hora actual
        const now = new Date();
        
        // Establecer el tiempo de finalización de la promoción (23:59:59 del día actual)
        const endOfDay = new Date();
        endOfDay.setHours(23, 59, 59, 999);
        
        // Calcular la diferencia en segundos
        let diff = Math.floor((endOfDay - now) / 1000);
        
        // Actualizar el contador inmediatamente
        updatePromoCounter(diff);
        
        // Actualizar cada segundo
        promoCounterInterval = setInterval(() => {
            diff--;
            
            if (diff <= 0) {
                clearInterval(promoCounterInterval);
                // La promoción ha terminado, puedes hacer algo aquí
                promoCounterText.textContent = "¡La oferta del día ha finalizado!";
                return;
            }
            
            updatePromoCounter(diff);
        }, 1000);
    }

    // Actualizar contador promocional
    function updatePromoCounter(totalSeconds) {
        const hours = Math.floor(totalSeconds / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;
        
        hoursElement.textContent = hours.toString().padStart(2, '0');
        minutesElement.textContent = minutes.toString().padStart(2, '0');
        secondsElement.textContent = seconds.toString().padStart(2, '0');
    }

    // Cambiar entre pestañas
    function switchTab(tabName) {
        currentTab = tabName;
        
        // Ocultar todas las secciones
        productsContainer.style.display = 'none';
        promotionsSection.style.display = 'none';
        septemberSection.style.display = 'none';
        
        // Mostrar la sección correspondiente
        if (tabName === 'products' || tabName === 'bar') {
            productsContainer.style.display = 'grid';
            updateCategoryFilters();
            filterProducts();
        } else if (tabName === 'promotions') {
            promotionsSection.style.display = 'block';
        } else if (tabName === 'september') {
            septemberSection.style.display = 'block';
        } else {
            // Para orders y profile, mostrar mensaje
            productsContainer.style.display = 'grid';
            productsContainer.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                    <i class="fas fa-tools" style="font-size: 3rem; color: var(--gray); margin-bottom: 20px;"></i>
                    <h3>Sección en construcción</h3>
                    <p>Esta funcionalidad estará disponible pronto.</p>
                </div>
            `;
        }
    }

    // Actualizar filtros de categoría según la pestaña activa
    function updateCategoryFilters() {
        let categories = [];
        
        if (currentTab === 'products') {
            categories = ['pizza', 'sandwich', 'completo', 'tabla', 'tacos', 'hamburguesa', 'papas'];
        } else if (currentTab === 'bar') {
            categories = ['cerveza', 'vino', 'tequila', 'ron', 'vodka', 'energetica', 'bebida'];
        }
        
        categoryFilters.innerHTML = '';
        
        // Agregar opción "Todas las categorías"
        categoryFilters.innerHTML += `
            <label class="custom-radio">
                <input type="radio" name="categoryFilter" value="all" checked>
                <span class="radiomark"></span>
                Todas las categorías
            </label>
        `;
        
        // Agregar categorías individuales
        categories.forEach(category => {
            const categoryName = getCategoryName(category);
            categoryFilters.innerHTML += `
                <label class="custom-radio">
                    <input type="radio" name="categoryFilter" value="${category}">
                    <span class="radiomark"></span>
                    ${categoryName}
                </label>
            `;
        });
        
        // Agregar event listeners a los nuevos radio buttons
        document.querySelectorAll('input[name="categoryFilter"]').forEach(radio => {
            radio.addEventListener('change', filterProducts);
        });
        
        // Filtrar productos inmediatamente después de crear los radio buttons
        filterProducts();
    }

    // Obtener nombre legible de categoría
    function getCategoryName(category) {
        const categoryNames = {
            'pizza': 'Pizzas',
            'sandwich': 'Sándwiches',
            'completo': 'Completos',
            'tabla': 'Tablas',
            'tacos': 'Tacos',
            'hamburguesa': 'Hamburguesas',
            'papas': 'Papas Fritas',
            'cerveza': 'Cervezas',
            'vino': 'Vinos',
            'tequila': 'Tequila',
            'ron': 'Ron',
            'vodka': 'Vodka',
            'energetica': 'Energéticas',
            'bebida': 'Bebidas'
        };
        
        return categoryNames[category] || category;
    }

    // Mostrar promociones
    function displayPromotions() {
        const today = new Date().getDay(); // 0 = Domingo, 1 = Lunes, etc.
        const todayPromotions = promotions.filter(promo => {
            const dayIndex = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'].indexOf(promo.day);
            return dayIndex === today;
        });
        
        promoCards.innerHTML = '';
        
        if (todayPromotions.length === 0) {
            promoCards.innerHTML = '<p>No hay promociones para hoy.</p>';
            return;
        }
        
        todayPromotions.forEach(promo => {
            promoCards.innerHTML += `
                <div class="promo-card">
                    <div class="promo-header">
                        <div class="promo-day">${promo.day}</div>
                        <div class="promo-time"><i class="fas fa-clock"></i> ${promo.time}</div>
                    </div>
                    <div class="promo-body">
                        <h3 class="promo-title">${promo.title}</h3>
                        <p class="promo-description">${promo.description}</p>
                        <div class="promo-products">
                            ${promo.products.map(product => `<span class="promo-product">${product}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `;
        });
    }

    // Mostrar promociones de septiembre
    function displaySeptemberPromotions() {
        septemberPromos.innerHTML = '';
        
        septemberPromotions.forEach(promo => {
            septemberPromos.innerHTML += `
                <div class="promo-card">
                    <div class="promo-header" style="background: var(--primary);">
                        <div class="promo-day">Fiestas Patrias</div>
                        <div class="promo-time"><i class="fas fa-clock"></i> ${promo.time}</div>
                    </div>
                    <div class="promo-body">
                        <h3 class="promo-title">${promo.title}</h3>
                        <p class="promo-description">${promo.description}</p>
                        <div class="promo-products">
                            ${promo.products.map(product => `<span class="promo-product">${product}</span>`).join('')}
                        </div>
                        <div style="margin-top: 15px; font-weight: 600; color: var(--primary);">
                            Precio: $${formatPrice(promo.price)}
                        </div>
                    </div>
                </div>
            `;
        });
    }

    // Actualizar estado de la tienda (abierto/cerrado)
    function updateStoreStatus() {
        const now = new Date();
        const hour = now.getHours();
        const minute = now.getMinutes();
        
        // Horario de atención: Lunes a Viernes 10:00-22:00, Sábados y Domingos 11:00-23:00
        let isOpen = false;
        let closingTime = null;
        
        if (now.getDay() >= 1 && now.getDay() <= 5) { // Lunes a Viernes
            isOpen = hour >= 10 && hour < 22;
            closingTime = new Date(now);
            closingTime.setHours(22, 0, 0, 0);
        } else { // Sábado o Domingo
            isOpen = hour >= 11 && hour < 23;
            closingTime = new Date(now);
            closingTime.setHours(23, 0, 0, 0);
        }
        
        // Actualizar indicador
        if (isOpen) {
            statusIndicator.classList.remove('status-closed');
            statusText.textContent = 'Abierto';
            
            // Calcular tiempo hasta cierre
            const timeUntilClose = closingTime - now;
            const hoursUntilClose = Math.floor(timeUntilClose / (1000 * 60 * 60));
            const minutesUntilClose = Math.floor((timeUntilClose % (1000 * 60 * 60)) / (1000 * 60));
            
            countdown.textContent = `Cierra en ${hoursUntilClose}h ${minutesUntilClose}m`;
        } else {
            statusIndicator.classList.add('status-closed');
            statusText.textContent = 'Cerrado';
            
            // Calcular tiempo hasta apertura
            let openingTime = new Date(now);
            if (now.getDay() >= 1 && now.getDay() <= 5) { // Lunes a Viernes
                if (hour < 10) {
                    openingTime.setHours(10, 0, 0, 0);
                } else {
                    openingTime.setDate(openingTime.getDate() + 1);
                    openingTime.setHours(10, 0, 0, 0);
                }
            } else { // Sábado o Domingo
                if (hour < 11) {
                    openingTime.setHours(11, 0, 0, 0);
                } else {
                    openingTime.setDate(openingTime.getDate() + 1);
                    if (openingTime.getDay() === 0 || openingTime.getDay() === 6) {
                        openingTime.setHours(11, 0, 0, 0);
                    } else {
                        openingTime.setHours(10, 0, 0, 0);
                    }
                }
            }
            
            const timeUntilOpen = openingTime - now;
            const hoursUntilOpen = Math.floor(timeUntilOpen / (1000 * 60 * 60));
            const minutesUntilOpen = Math.floor((timeUntilOpen % (1000 * 60 * 60)) / (1000 * 60));
            
            countdown.textContent = `Abre en ${hoursUntilOpen}h ${minutesUntilOpen}m`;
        }
    }

    // Inicializar Swiper para el carousel de imágenes
    function initSwiper() {
        if (swiper) {
            swiper.destroy();
        }
        swiper = new Swiper(".mySwiper", {
            pagination: {
                el: ".swiper-pagination",
                clickable: true
            }
        });
    }

    // Cargar datos de usuario desde localStorage
    function loadUserData() {
        const savedCart = localStorage.getItem('cart');
        const savedFavorites = localStorage.getItem('favorites');
        
        if (savedCart) {
            cart = JSON.parse(savedCart);
            updateCart();
        }
        
        if (savedFavorites) {
            favorites = JSON.parse(savedFavorites);
            updateFavoritesCount();
        }
    }

    // Guardar datos de usuario en localStorage
    function saveUserData() {
        localStorage.setItem('cart', JSON.stringify(cart));
        localStorage.setItem('favorites', JSON.stringify(favorites));
    }

    // Mostrar productos en el catálogo
    function displayProducts(productsToShow) {
        productsContainer.innerHTML = '';
        
        if (productsToShow.length === 0) {
            productsContainer.innerHTML = '<p class="no-products">No se encontraron productos</p>';
            return;
        }
        
        productsToShow.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            productCard.dataset.id = product.id;
            
            let sizeOptions = '';
            if (product.sizes) {
                sizeOptions = `
                    <div class="size-options">
                        ${product.sizes.map((size, index) => 
                            `<div class="size-option ${index === 1 ? 'active' : ''}" data-price="${size.price}">${size.name}</div>`
                        ).join('')}
                    </div>
                `;
            }
            
            const isFavorite = favorites.includes(product.id);
            
            productCard.innerHTML = `
                <div class="product-image-container">
                    <img src="${product.images[0]}" alt="${product.name}" class="product-image">
                    <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-id="${product.id}">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="product-info">
                    <h3 class="product-title">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <div class="product-price">$${formatPrice(product.price)}</div>
                    ${sizeOptions}
                    <button class="add-to-cart" data-id="${product.id}">
                        <i class="fas fa-shopping-cart"></i> Agregar
                    </button>
                </div>
            `;
            
            productsContainer.appendChild(productCard);
            
            // Event listener para el botón de favoritos
            const favoriteBtn = productCard.querySelector('.favorite-btn');
            favoriteBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleFavorite(product.id);
                favoriteBtn.classList.toggle('active');
            });
            
            // Event listener para los botones de agregar al carrito
            const addToCartBtn = productCard.querySelector('.add-to-cart');
            addToCartBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                addToCart(product);
            });
            
            // Event listeners para las opciones de tamaño
            if (product.sizes) {
                const sizeOptions = productCard.querySelectorAll('.size-option');
                sizeOptions.forEach((option, index) => {
                    option.addEventListener('click', (e) => {
                        e.stopPropagation();
                        sizeOptions.forEach(opt => opt.classList.remove('active'));
                        option.classList.add('active');
                        
                        // Actualizar precio mostrado
                        const priceElement = productCard.querySelector('.product-price');
                        priceElement.textContent = `$${formatPrice(product.sizes[index].price)}`;
                    });
                });
            }
            
            // Event listener para abrir el detalle del producto
            productCard.addEventListener('click', () => {
                openProductDetail(product);
            });
        });
    }

    // Alternar producto en favoritos
    function toggleFavorite(productId) {
        const index = favorites.indexOf(productId);
        if (index === -1) {
            favorites.push(productId);
        } else {
            favorites.splice(index, 1);
        }
        
        updateFavoritesCount();
        saveUserData();
    }

    // Actualizar contador de favoritos
    function updateFavoritesCount() {
        favoritesCount.textContent = favorites.length;
    }

    // Mostrar productos favoritos
    function showFavorites() {
        if (favorites.length === 0) {
            filteredProducts = [];
            displayProducts([]);
            return;
        }
        
        filteredProducts = products.filter(product => favorites.includes(product.id));
        displayProducts(filteredProducts);
    }

    // Filtrar productos según criterios
    function filterProducts() {
        const searchTerm = searchInput.value.toLowerCase();
        const maxPrice = parseInt(priceRange.value);
        const selectedCategory = document.querySelector('input[name="categoryFilter"]:checked').value;
        const sortOption = document.querySelector('input[name="sort"]:checked').value;
        
        // Primero filtrar por la pestaña activa
        let productsToFilter = [...products];
        if (currentTab === 'products') {
            productsToFilter = products.filter(product => 
                ['pizza', 'sandwich', 'completo', 'tabla', 'tacos', 'hamburguesa', 'papas'].includes(product.category)
            );
        } else if (currentTab === 'bar') {
            productsToFilter = products.filter(product => 
                ['cerveza', 'vino', 'tequila', 'ron', 'vodka', 'energetica', 'bebida'].includes(product.category)
            );
        }
        
        // Luego aplicar los demás filtros
        filteredProducts = productsToFilter.filter(product => {
            const matchesSearch = product.name.toLowerCase().includes(searchTerm) || 
                                 product.description.toLowerCase().includes(searchTerm);
            const matchesCategory = selectedCategory === 'all' || selectedCategory === product.category;
            const matchesPrice = product.price <= maxPrice;
            
            return matchesSearch && matchesCategory && matchesPrice;
        });
        
        // Ordenar productos
        switch(sortOption) {
            case 'name':
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                break;
            case 'price-asc':
                filteredProducts.sort((a, b) => a.price - b.price);
                break;
            case 'price-desc':
                filteredProducts.sort((a, b) => b.price - a.price);
                break;
        }
        
        displayProducts(filteredProducts);
    }

    // Abrir detalle del producto
    function openProductDetail(product) {
        currentProduct = product;
        
        // Limpiar imágenes anteriores
        detailImages.innerHTML = '';
        
        // Agregar imágenes al carousel
        product.images.forEach(image => {
            detailImages.innerHTML += `
                <div class="swiper-slide">
                    <img src="${image}" alt="${product.name}">
                </div>
            `;
        });
        
        // Actualizar información del producto
        detailTitle.textContent = product.name;
        detailPrice.textContent = `$${formatPrice(product.price)}`;
        detailDescription.textContent = product.description;
        
        // Calorías según tamaño (si aplica)
        if (product.sizes) {
            detailCalories.textContent = `${product.sizes[1].calories} cal`;
        } else {
            detailCalories.textContent = `${product.calories} cal`;
        }
        
        detailTime.textContent = product.preparationTime;
        detailRating.textContent = product.rating;
        detailWeight.textContent = product.weight;
        
        // Opciones de tamaño
        detailSizes.innerHTML = '';
        if (product.sizes) {
            product.sizes.forEach((size, index) => {
                detailSizes.innerHTML += `
                    <div class="detail-size-option ${index === 1 ? 'active' : ''}" data-index="${index}">
                        <span class="size">${size.name}</span>
                        <span class="price">$${formatPrice(size.price)}</span>
                    </div>
                `;
            });
            
            // Event listeners para opciones de tamaño
            const sizeOptions = detailSizes.querySelectorAll('.detail-size-option');
            sizeOptions.forEach((option, index) => {
                option.addEventListener('click', () => {
                    sizeOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    
                    // Actualizar precio mostrado
                    detailPrice.textContent = `$${formatPrice(product.sizes[index].price)}`;
                    detailCalories.textContent = `${product.sizes[index].calories} cal`;
                });
            });
        }
        
        // Reiniciar Swiper
        initSwiper();
        
        // Mostrar modal
        productDetailModal.classList.add('open');
    }

    // Agregar producto al carrito
    function addToCart(product, fromDetail = false) {
        let selectedSize = null;
        let finalPrice = product.price;
        let calories = product.calories || 0;
        
        // Si el producto tiene tamaños, obtener el seleccionado
        if (product.sizes) {
            let sizeIndex = 1; // Por defecto el tamaño medio
            
            if (fromDetail) {
                const activeSize = detailSizes.querySelector('.detail-size-option.active');
                sizeIndex = parseInt(activeSize.dataset.index);
            } else {
                const productCard = document.querySelector(`.product-card[data-id="${product.id}"]`);
                if (productCard) {
                    const activeSize = productCard.querySelector('.size-option.active');
                    if (activeSize) {
                        const sizes = productCard.querySelectorAll('.size-option');
                        sizeIndex = Array.from(sizes).indexOf(activeSize);
                    }
                }
            }
            
            selectedSize = product.sizes[sizeIndex].name;
            finalPrice = product.sizes[sizeIndex].price;
            calories = product.sizes[sizeIndex].calories;
        }
        
        // Buscar si el producto ya está en el carrito
        const existingItemIndex = cart.findIndex(item => 
            item.id === product.id && item.size === selectedSize
        );
        
        if (existingItemIndex >= 0) {
            // Incrementar cantidad si ya existe
            cart[existingItemIndex].quantity++;
        } else {
            // Agregar nuevo item al carrito
            cart.push({
                id: product.id,
                name: product.name,
                price: finalPrice,
                image: product.images[0],
                size: selectedSize,
                calories: calories,
                quantity: 1
            });
        }
        
        updateCart();
        showNotification();
        saveUserData();
        
        // Si se agregó desde el detalle, cerrar el modal
        if (fromDetail) {
            productDetailModal.classList.remove('open');
        }
    }

    // Event listener para agregar desde el detalle
    addToCartDetail.addEventListener('click', () => {
        if (currentProduct) {
            addToCart(currentProduct, true);
        }
    });

    // Mostrar notificación de producto agregado
    function showNotification() {
        notification.classList.add('show');
        setTimeout(() => {
            notification.classList.remove('show');
        }, 3000);
    }

    // Actualizar carrito
    function updateCart() {
        cartItems.innerHTML = '';
        let total = 0;
        let count = 0;
        
        if (cart.length === 0) {
            cartItems.innerHTML = `
                <div class="empty-cart">
                    <i class="fas fa-shopping-cart"></i>
                    <p>Tu carrito está vacío</p>
                </div>
            `;
        } else {
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                count += item.quantity;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                    <div class="cart-item-info">
                        <h3 class="cart-item-title">${item.name}</h3>
                        <div class="cart-item-price">$${formatPrice(item.price)} ${item.size ? `(${item.size})` : ''}</div>
                        <div class="cart-item-size">${item.calories} cal</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn minus" data-index="${index}">-</button>
                            <span class="quantity-value">${item.quantity}</span>
                            <button class="quantity-btn plus" data-index="${index}">+</button>
                        </div>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            // Event listeners para los botones de cantidad
            document.querySelectorAll('.quantity-btn.plus').forEach(btn => {
                btn.addEventListener('click', () => {
                    const index = parseInt(btn.dataset.index);
                    cart[index].quantity++;
                    updateCart();
                    saveUserData();
                });
            });
            
            document.querySelectorAll('.quantity-btn.minus').forEach(btn => {
                btn.addEventListener('click', () => {
                    const index = parseInt(btn.dataset.index);
                    if (cart[index].quantity > 1) {
                        cart[index].quantity--;
                    } else {
                        cart.splice(index, 1);
                    }
                    updateCart();
                    saveUserData();
                });
            });
        }
        
        cartTotal.textContent = `$${formatPrice(total)}`;
        cartCount.textContent = count;
    }

    // Abrir checkout
    function openCheckout() {
        if (cart.length === 0) {
            alert('Tu carrito está vacío');
            return;
        }
        
        // Resetear steps del checkout
        document.getElementById('step1').classList.add('active');
        document.getElementById('step2').classList.remove('active');
        document.getElementById('step3').classList.remove('active');
        
        document.getElementById('checkoutStep1').style.display = 'block';
        document.getElementById('checkoutStep2').style.display = 'none';
        document.getElementById('checkoutStep3').style.display = 'none';
        
        // Ocultar campo de dirección inicialmente
        addressField.classList.remove('visible');
        
        // Actualizar resumen
        updateCheckoutSummary();
        
        // Mostrar modal
        checkoutModal.classList.add('open');
        cartModal.classList.remove('open');
    }

    // Cambiar paso en el checkout
    function changeCheckoutStep(step) {
        if (step === 2) {
            // Validar paso 1
            if (deliveryOption === 'delivery' || deliveryOption === 'robot') {
                const address = document.getElementById('deliveryAddress').value;
                if (!address) {
                    alert('Por favor ingresa una dirección de envío');
                    return;
                }
            }
            
            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.add('active');
            
            document.getElementById('checkoutStep1').style.display = 'none';
            document.getElementById('checkoutStep2').style.display = 'block';
        } else if (step === 3) {
            // Validar paso 2
            if (!document.getElementById('cardNumber').value || 
                !document.getElementById('cardExpiry').value || 
                !document.getElementById('cardCVC').value) {
                alert('Por favor completa todos los campos de pago');
                return;
            }
            
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.add('active');
            
            document.getElementById('checkoutStep2').style.display = 'none';
            document.getElementById('checkoutStep3').style.display = 'block';
        }
    }

    // Actualizar resumen del checkout
    function updateCheckoutSummary() {
        const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        
        summarySubtotal.textContent = `$${formatPrice(subtotal)}`;
        summaryShipping.textContent = `$${formatPrice(deliveryPrice)}`;
        summaryDiscount.textContent = `-$${formatPrice(discount)}`;
        
        const total = subtotal + deliveryPrice - discount;
        summaryTotal.textContent = `$${formatPrice(total)}`;
    }

    // Procesar pago
    function processPayment() {
        // Simular procesamiento de pago
        setTimeout(() => {
            changeCheckoutStep(3);
        }, 1500);
    }

    // Inicializar la tienda cuando se carga la página
    document.addEventListener('DOMContentLoaded', initStore);
</script>
</body>
</html>
